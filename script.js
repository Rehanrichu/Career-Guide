const quizData = [{
        question: "Which subject do you enjoy most?",
        options: [{
                text: "Mathematics",
                career: "Mathematician",
                img: "assets/math.png"
            },
            {
                text: "Biology",
                career: "Doctor",
                img: "assets/biology.png"
            },
            {
                text: "Programming",
                career: "Software Engineer",
                img: "assets/programming.png"
            },
            {
                text: "Storytelling",
                career: "Writer",
                img: "assets/storytelling.png"
            },
            {
                text: "Art & Design",
                career: "Designer",
                img: "assets/art.png"
            },
        ],
    },
    {
        question: "How do you prefer solving problems?",
        options: [{
                text: "Analyze data",
                career: "Data Scientist",
                img: "assets/data.png"
            },
            {
                text: "Build physical things",
                career: "Mechanical Engineer",
                img: "assets/gears.png"
            },
            {
                text: "Work with people",
                career: "Psychologist",
                img: "assets/psychology.png"
            },
            {
                text: "Write code",
                career: "Software Engineer",
                img: "assets/programming.png"
            },
            {
                text: "Imagine new worlds",
                career: "Writer",
                img: "assets/storytelling.png"
            },
        ],
    },
    {
        question: "What’s your ideal work environment?",
        options: [{
                text: "Lab/Research",
                career: "Scientist",
                img: "assets/lab.png"
            },
            {
                text: "Hospital/Clinic",
                career: "Doctor",
                img: "assets/doctor.png"
            },
            {
                text: "Tech Office",
                career: "Software Engineer",
                img: "assets/office.png"
            },
            {
                text: "Studio/Workshop",
                career: "Designer",
                img: "assets/studio.png"
            },
            {
                text: "Outdoors/Nature",
                career: "Environmental Scientist",
                img: "assets/nature.png"
            },
        ],
    },
    {
        question: "Which skill excites you most?",
        options: [{
                text: "Machine learning",
                career: "AI Researcher",
                img: "assets/ai.png"
            },
            {
                text: "Diagnosing illness",
                career: "Doctor",
                img: "assets/doctor.png"
            },
            {
                text: "Data analysis",
                career: "Data Scientist",
                img: "assets/data.png"
            },
            {
                text: "Building robots",
                career: "Robotics Engineer",
                img: "assets/robot.png"
            },
            {
                text: "Creating music/art",
                career: "Creative Artist",
                img: "assets/music.png"
            },
        ],
    },
    {
        question: "Which project would you choose in a hackathon?",
        options: [{
                text: "Code a mobile app",
                career: "App Developer",
                img: "assets/mobile-app.png"
            },
            {
                text: "Invent a medical device",
                career: "Biomedical Engineer",
                img: "assets/medical-device.png"
            },
            {
                text: "Visualize global climate data",
                career: "Environmental Scientist",
                img: "assets/nature.png"
            },
            {
                text: "Write a short story",
                career: "Writer",
                img: "assets/storytelling.png"
            },
            {
                text: "Design a brand logo",
                career: "Designer",
                img: "assets/design.png"
            },
        ],
    },
    {
        question: "How do you like to collaborate?",
        options: [{
                text: "Small technical team",
                career: "Software Engineer",
                img: "assets/team.png"
            },
            {
                text: "With scientists/doctors",
                career: "Doctor",
                img: "assets/doctor.png"
            },
            {
                text: "Creative brainstorming",
                career: "Designer",
                img: "assets/design.png"
            },
            {
                text: "Analyzing data together",
                career: "Data Scientist",
                img: "assets/data.png"
            },
            {
                text: "Debate and discussion",
                career: "Lawyer",
                img: "assets/law.png"
            },
        ],
    },
    {
        question: "Which field interests you most?",
        options: [{
                text: "Healthcare",
                career: "Doctor",
                img: "assets/doctor.png"
            },
            {
                text: "Tech/AI",
                career: "AI Researcher",
                img: "assets/ai.png"
            },
            {
                text: "Engineering",
                career: "Mechanical Engineer",
                img: "assets/gears.png"
            },
            {
                text: "Media/Journalism",
                career: "Journalist",
                img: "assets/media.png"
            },
            {
                text: "Visual Arts",
                career: "Designer",
                img: "assets/design.png"
            },
        ],
    },
    {
        question: "What problem do you want to solve?",
        options: [{
                text: "Disease eradication",
                career: "Doctor",
                img: "assets/doctor.png"
            },
            {
                text: "Automate tasks",
                career: "Robotics Engineer",
                img: "assets/robot.png"
            },
            {
                text: "Climate change",
                career: "Environmental Scientist",
                img: "assets/nature.png"
            },
            {
                text: "Spread ideas",
                career: "Writer",
                img: "assets/storytelling.png"
            },
            {
                text: "Create beautiful designs",
                career: "Designer",
                img: "assets/design.png"
            },
        ],
    },
    {
        question: "Pick a favorite subject from school:",
        options: [{
                text: "Math",
                career: "Mathematician",
                img: "assets/math.png"
            },
            {
                text: "Physics",
                career: "Physicist",
                img: "assets/physics.png"
            },
            {
                text: "English",
                career: "Writer",
                img: "assets/storytelling.png"
            },
            {
                text: "Economics",
                career: "Economist",
                img: "assets/economy.png"
            },
            {
                text: "Art",
                career: "Creative Artist",
                img: "assets/art.png"
            },
        ],
    },
    {
        question: "Choose a tech challenge to tackle:",
        options: [{
                text: "Build a chatbot",
                career: "NLP Engineer",
                img: "assets/nlp.png"
            },
            {
                text: "Analyze stock markets",
                career: "Data Scientist",
                img: "assets/data.png"
            },
            {
                text: "Design an app interface",
                career: "Designer",
                img: "assets/design.png"
            },
            {
                text: "Make robots walk",
                career: "Robotics Engineer",
                img: "assets/robot.png"
            },
            {
                text: "Develop a VR game",
                career: "Game Developer",
                img: "assets/game-dev.png"
            },
        ],
    },
    {
        question: "What do you value in your job?",
        options: [{
                text: "Helping others",
                career: "Doctor",
                img: "assets/doctor.png"
            },
            {
                text: "Solving hard puzzles",
                career: "AI Researcher",
                img: "assets/ai.png"
            },
            {
                text: "Self-expression",
                career: "Creative Artist",
                img: "assets/art.png"
            },
            {
                text: "Stability",
                career: "Accountant",
                img: "assets/accountant.png"
            },
            {
                text: "Leadership",
                career: "Manager",
                img: "assets/manager.png"
            },
        ],
    },
    {
        question: "Which would you like to master?",
        options: [{
                text: "Medical techniques",
                career: "Doctor",
                img: "assets/doctor.png"
            },
            {
                text: "AI algorithms",
                career: "AI Researcher",
                img: "assets/ai.png"
            },
            {
                text: "Marketing strategies",
                career: "Marketer",
                img: "assets/marketing.png"
            },
            {
                text: "Graphic design",
                career: "Designer",
                img: "assets/design.png"
            },
            {
                text: "Writing skills",
                career: "Writer",
                img: "assets/storytelling.png"
            },
        ],
    },
    {
        question: "Which sounds like a fun weekend?",
        options: [{
                text: "Read science articles",
                career: "Scientist",
                img: "assets/lab.png"
            },
            {
                text: "Sketch or paint",
                career: "Creative Artist",
                img: "assets/art.png"
            },
            {
                text: "Code new projects",
                career: "App Developer",
                img: "assets/programming.png"
            },
            {
                text: "Nature hike",
                career: "Environmental Scientist",
                img: "assets/nature.png"
            },
            {
                text: "Write a blog",
                career: "Journalist",
                img: "assets/storytelling.png"
            },
        ],
    },
    {
        question: "Which innovation inspires you?",
        options: [{
                text: "Artificial intelligence",
                career: "AI Researcher",
                img: "assets/ai.png"
            },
            {
                text: "Genetic engineering",
                career: "Biologist",
                img: "assets/biology.png"
            },
            {
                text: "Smart cities",
                career: "Civil Engineer",
                img: "assets/civil.png"
            },
            {
                text: "Electric vehicles",
                career: "Mechanical Engineer",
                img: "assets/gears.png"
            },
            {
                text: "Streaming platforms",
                career: "Media Specialist",
                img: "assets/media.png"
            },
        ],
    },
    {
        question: "What role suits you in a project?",
        options: [{
                text: "Lead and manage",
                career: "Manager",
                img: "assets/manager.png"
            },
            {
                text: "Create and innovate",
                career: "Designer",
                img: "assets/design.png"
            },
            {
                text: "Analyze and present data",
                career: "Data Scientist",
                img: "assets/data.png"
            },
            {
                text: "Research and document",
                career: "Scientist",
                img: "assets/lab.png"
            },
            {
                text: "Support and organize",
                career: "Accountant",
                img: "assets/accountant.png"
            },
        ],
    },
    {
        question: "Best describes your personality:",
        options: [{
                text: "Analytical",
                career: "Economist",
                img: "assets/economy.png"
            },
            {
                text: "Creative",
                career: "Creative Artist",
                img: "assets/art.png"
            },
            {
                text: "Empathetic",
                career: "Psychologist",
                img: "assets/psychology.png"
            },
            {
                text: "Meticulous",
                career: "Accountant",
                img: "assets/accountant.png"
            },
            {
                text: "Adventurous",
                career: "Environmental Scientist",
                img: "assets/nature.png"
            },
        ],
    },
    {
        question: "Favorite technology trend?",
        options: [{
                text: "AI & robotics",
                career: "AI Researcher",
                img: "assets/ai.png"
            },
            {
                text: "Telemedicine",
                career: "Doctor",
                img: "assets/doctor.png"
            },
            {
                text: "Sustainable energy",
                career: "Environmental Scientist",
                img: "assets/nature.png"
            },
            {
                text: "Mobile apps",
                career: "App Developer",
                img: "assets/programming.png"
            },
            {
                text: "Digital art tools",
                career: "Designer",
                img: "assets/design.png"
            },
        ],
    },
    {
        question: "What type of content do you prefer?",
        options: [{
                text: "Reports and charts",
                career: "Data Scientist",
                img: "assets/data.png"
            },
            {
                text: "Essays and articles",
                career: "Writer",
                img: "assets/storytelling.png"
            },
            {
                text: "Visual portfolios",
                career: "Designer",
                img: "assets/design.png"
            },
            {
                text: "Project demos",
                career: "App Developer",
                img: "assets/programming.png"
            },
            {
                text: "Medical case studies",
                career: "Doctor",
                img: "assets/doctor.png"
            },
        ],
    },
    {
        question: "Which personality trait fits you best?",
        options: [{
                text: "Problem-solver",
                career: "AI Researcher",
                img: "assets/ai.png"
            },
            {
                text: "Team player",
                career: "Manager",
                img: "assets/manager.png"
            },
            {
                text: "Empathic",
                career: "Psychologist",
                img: "assets/psychology.png"
            },
            {
                text: "Detail-oriented",
                career: "Accountant",
                img: "assets/accountant.png"
            },
            {
                text: "Imaginative",
                career: "Creative Artist",
                img: "assets/art.png"
            },
        ],
    },
    {
        question: "One word that excites you most:",
        options: [{
                text: "Discovery",
                career: "Scientist",
                img: "assets/lab.png"
            },
            {
                text: "Care",
                career: "Doctor",
                img: "assets/doctor.png"
            },
            {
                text: "Create",
                career: "Designer",
                img: "assets/design.png"
            },
            {
                text: "Code",
                career: "App Developer",
                img: "assets/programming.png"
            },
            {
                text: "Lead",
                career: "Manager",
                img: "assets/manager.png"
            },
        ],
    },
];

// Career descriptions (expand as needed)
const careerDesc = {
    "AI Researcher": "You love working with intelligent systems, algorithms, and pushing the frontiers of technology!",
    Doctor: "You care deeply about human health and want to make a tangible difference in others’ lives.",
    "Data Scientist": "You enjoy finding insights in complex data—analytical, precise, and always learning.",
    Mathematician: "You thrive on logic, patterns, and formulating elegant solutions to deep problems.",
    "Software Engineer": "Coding is your language; building useful apps drives you.",
    Writer: "You communicate ideas, stories, and information that inspire and inform.",
    Designer: "You shape creative visuals, brands, and experiences for others.",
    // Add more as needed
};

let currentQuestion = 0;
const answers = [];

function startQuiz() {
    document.getElementById("home").classList.add("hidden");
    document.getElementById("quiz-container").classList.remove("hidden");
    currentQuestion = 0;
    answers.length = 0;
    renderQuestion();
}

function renderQuestion() {
    const q = quizData[currentQuestion];
    document.getElementById("question-counter").textContent = `Question ${currentQuestion + 1} of ${quizData.length}`;
    document.getElementById("question").textContent = q.question;

    const optionsEl = document.getElementById("options");
    optionsEl.innerHTML = "";

    q.options.forEach((opt, idx) => {
        const btn = document.createElement("button");
        btn.classList.add("option-btn");

        const img = document.createElement("img");
        img.src = opt.img;
        img.alt = opt.text;

        btn.appendChild(img);
        btn.appendChild(document.createTextNode(opt.text));

        btn.onclick = () => selectAnswer(idx, btn);
        optionsEl.appendChild(btn);
    });

    document.getElementById("submit-btn").classList.add("hidden");

    const percent = (currentQuestion / quizData.length) * 100;
    document.getElementById("progress").style.width = `${percent}%`;
}

function selectAnswer(optionIdx, btn) {
    answers[currentQuestion] = quizData[currentQuestion].options[optionIdx].career;
    Array.from(document.getElementById("options").children).forEach((b) =>
        b.classList.remove("selected")
    );
    btn.classList.add("selected");
    document.getElementById("submit-btn").classList.remove("hidden");
}

document.getElementById("submit-btn").onclick = function() {
    currentQuestion++;
    if (currentQuestion < quizData.length) {
        renderQuestion();
    } else {
        showResult();
    }
};

function showResult() {
    document.getElementById("quiz-container").classList.add("hidden");
    document.getElementById("result-container").classList.remove("hidden");

    const freq = {};
    answers.forEach((a) => (freq[a] = (freq[a] || 0) + 1));

    const career = Object.keys(freq).reduce((a, b) =>
        freq[a] >= freq[b] ? a : b
    );

    document.getElementById("career").textContent = career;
    document.getElementById("career-desc").textContent =
        careerDesc[career] || "Explore new horizons in your career!";

    document.getElementById("progress").style.width = "100%";
}

function restartQuiz() {
    document.getElementById("result-container").classList.add("hidden");
    document.getElementById("home").classList.remove("hidden");
}
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('./service-worker.js')
            .then(registration => {
                console.log('Service Worker registered with scope:', registration.scope);
            })
            .catch(error => {
                console.log('Service Worker registration failed:', error);
            });
    });
}
